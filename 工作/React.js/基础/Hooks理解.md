# 解决了什么问题

## 组件之间的状态和逻辑复用

## 复杂的组件变得难以理解

    组件期初很简单,但是逐渐会被状态逻辑和副作用充斥,每个生命周期中常常包含一些不相关
    的逻辑。比如说 组件常常在componentDidMount 和 componentDidUpdate
    中获取数据, 但是同一个componenDidMount 中常常包含其他逻辑,比如说设置事件的监听
    之后又需要在componentWillUnmount中清除,相互关联且彼此对照修改代码拆分
    而完全不相同的代码却在同一个方法中组合在一起

## 难以理解的 class

经常需要手动去绑定 this

# Hooks 的规则

只能在函数组件的最外层调用 Hooks。
这个规则的含义是指在函数组件的顶层作用域下调用 Hooks，不能在条件语句、循环、嵌套函数或任何 JavaScript 的内置函数中调用 Hooks。React 依赖于 Hooks 调用顺序来跟踪组件状态，如果违反这个规则，React 无法正确追踪组件状态的更新，从而可能导致出现不可预料的问题。

## 保持调用的一致性

内部是基于调用顺序来确定每个 Hook 的含义
如果在不同的渲染流程中以不同的顺序调用 Hook 那么就 React 就无法判断那个 Hook 对应
那个状态,这可能导致整个组件状态错乱,难以理解和维护

## 让 React 可以正确地跟踪 Hook 的状态：

React 在内部使用一个数组来存储当前组件的 Hook 状态。当组件重新渲染时，它会根据数组的顺序找到相应的 Hook 状态。如果 Hook 调用的顺序发生变化，React 就会认为某个 Hook 对应之前的状态，这将导致不一致的状态更新，从而导致应用程序的错误行为。

## 确保 Hook 能够正常工作：

Hooks 的设计依赖于 React 对其调用顺序的期望。如果你在不允许的地方调用 Hook，可能会导致 Hook 的内部状态出现问题，影响组件的正确运行。
